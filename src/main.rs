mod error;
mod faboul;

use crate::error::Error;
use crate::faboul::{CalendarData, Faboul};
use axum::extract::{Path, State};
use axum::{routing::get, Json, Router};
use axum_macros::debug_handler;
use std::net::SocketAddr;
use std::sync::Arc;
use tokio::sync::Mutex;
use tracing::info;
use tracing_subscriber::filter::LevelFilter;

#[derive(Clone)]
struct AppState {
    pub faboul: Arc<Mutex<Faboul>>
}

#[tokio::main]
async fn main() {
    tracing_subscriber::fmt()
        .with_max_level(LevelFilter::DEBUG)
        .init();

    let app_state = AppState {
        faboul: Arc::new(Mutex::new(Faboul::new())),
    };

    let app = Router::new().route("/:year/:month", get(handler)).with_state(app_state);

    let addr = SocketAddr::from(([127, 0, 0, 1], 3000));

    info!("starting server on {:?}", &addr);

    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await
        .unwrap();
}

#[debug_handler]
async fn handler(
    Path((year, month)): Path<(usize, usize)>,
    State(app_state): State<AppState>,
) -> Result<Json<CalendarData>, Error> {
    info!("year: {}, month: {}", year, month);
    let data = app_state.faboul.lock().await.get_calendar_data_for_month(year, month).await?;
    info!("calendar data retrieved");
    Ok(Json(data))
}

// http://sholiday.faboul.se/dagar/v2.1/2015/02

// no cache
// 2023-07-22T18:19:34.215123Z  INFO calendar_api: year: 2023, month: 7
// 2023-07-22T18:19:34.406270Z  INFO calendar_api: calendar data retrieved

// cache but first try
// 2023-07-22T21:38:59.214296Z  INFO calendar_api: year: 2023, month: 7
// 2023-07-22T21:38:59.426550Z  INFO calendar_api: calendar data retrieved

// cache second try
// 2023-07-22T21:39:44.740121Z  INFO calendar_api: year: 2023, month: 7
// 2023-07-22T21:39:44.885237Z  INFO calendar_api: calendar data retrieved

// cache hot, less logs
// 2023-07-22T21:40:25.838213Z  INFO calendar_api: year: 2023, month: 7
// 2023-07-22T21:40:25.991043Z  INFO calendar_api: calendar data retrieved

// cache bug fixed
// 2023-07-22T21:55:08.726551Z  INFO calendar_api::faboul: dagar: [FaboulDataDag { datum: "2023-06-01", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "22", dag_i_vecka: "4", namnsdag: ["Gun", "Gunnel"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-02", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "22", dag_i_vecka: "5", namnsdag: ["Rutger", "Roger"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-03", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "22", dag_i_vecka: "6", namnsdag: ["Ingemar", "Gudmar"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-04", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "22", dag_i_vecka: "7", namnsdag: ["Solbritt", "Solveig"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-05", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "23", dag_i_vecka: "1", namnsdag: ["Bo"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-06", veckodag: "Tisdag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "23", dag_i_vecka: "2", namnsdag: ["Gustav", "Gösta"], flaggdag: "Sveriges nationaldag och svenska flaggans dag" }, FaboulDataDag { datum: "2023-06-07", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "23", dag_i_vecka: "3", namnsdag: ["Robert", "Robin"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-08", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "23", dag_i_vecka: "4", namnsdag: ["Eivor", "Majvor"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-09", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "23", dag_i_vecka: "5", namnsdag: ["Börje", "Birger"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-10", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "23", dag_i_vecka: "6", namnsdag: ["Svante", "Boris"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-11", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "23", dag_i_vecka: "7", namnsdag: ["Bertil", "Berthold"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-12", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "24", dag_i_vecka: "1", namnsdag: ["Eskil"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-13", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "24", dag_i_vecka: "2", namnsdag: ["Aina", "Aino"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-14", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "24", dag_i_vecka: "3", namnsdag: ["Håkan", "Hakon"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-15", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "24", dag_i_vecka: "4", namnsdag: ["Margit", "Margot"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-16", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "24", dag_i_vecka: "5", namnsdag: ["Axel", "Axelina"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-17", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "24", dag_i_vecka: "6", namnsdag: ["Torborg", "Torvald"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-18", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "24", dag_i_vecka: "7", namnsdag: ["Björn", "Bjarne"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-19", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "25", dag_i_vecka: "1", namnsdag: ["Germund", "Görel"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-20", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "25", dag_i_vecka: "2", namnsdag: ["Linda"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-21", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "25", dag_i_vecka: "3", namnsdag: ["Alf", "Alvar"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-22", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "25", dag_i_vecka: "4", namnsdag: ["Paulina", "Paula"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-23", veckodag: "Fredag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "25", dag_i_vecka: "5", namnsdag: ["Adolf", "Alice"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-24", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "25", dag_i_vecka: "6", namnsdag: [], flaggdag: "Midsommardagen" }, FaboulDataDag { datum: "2023-06-25", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "25", dag_i_vecka: "7", namnsdag: ["David", "Salomon"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-26", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "26", dag_i_vecka: "1", namnsdag: ["Rakel", "Lea"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-27", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "26", dag_i_vecka: "2", namnsdag: ["Selma", "Fingal"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-28", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "26", dag_i_vecka: "3", namnsdag: ["Leo"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-29", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "26", dag_i_vecka: "4", namnsdag: ["Peter", "Petra"], flaggdag: "" }, FaboulDataDag { datum: "2023-06-30", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "26", dag_i_vecka: "5", namnsdag: ["Elof", "Leif"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-01", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "26", dag_i_vecka: "6", namnsdag: ["Aron", "Mirjam"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-02", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "26", dag_i_vecka: "7", namnsdag: ["Rosa", "Rosita"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-03", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "27", dag_i_vecka: "1", namnsdag: ["Aurora"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-04", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "27", dag_i_vecka: "2", namnsdag: ["Ulrika", "Ulla"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-05", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "27", dag_i_vecka: "3", namnsdag: ["Laila", "Ritva"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-06", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "27", dag_i_vecka: "4", namnsdag: ["Esaias", "Jessika"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-07", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "27", dag_i_vecka: "5", namnsdag: ["Klas"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-08", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "27", dag_i_vecka: "6", namnsdag: ["Kjell"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-09", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "27", dag_i_vecka: "7", namnsdag: ["Jörgen", "Örjan"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-10", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "28", dag_i_vecka: "1", namnsdag: ["André", "Andrea"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-11", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "28", dag_i_vecka: "2", namnsdag: ["Eleonora", "Ellinor"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-12", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "28", dag_i_vecka: "3", namnsdag: ["Herman", "Hermine"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-13", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "28", dag_i_vecka: "4", namnsdag: ["Joel", "Judit"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-14", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "28", dag_i_vecka: "5", namnsdag: ["Folke"], flaggdag: "Kronprinsessan Victorias födelsedag" }, FaboulDataDag { datum: "2023-07-15", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "28", dag_i_vecka: "6", namnsdag: ["Ragnhild", "Ragnvald"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-16", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "28", dag_i_vecka: "7", namnsdag: ["Reinhold", "Reine"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-17", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "29", dag_i_vecka: "1", namnsdag: ["Bruno"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-18", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "29", dag_i_vecka: "2", namnsdag: ["Fredrik", "Fritz"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-19", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "29", dag_i_vecka: "3", namnsdag: ["Sara"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-20", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "29", dag_i_vecka: "4", namnsdag: ["Margareta", "Greta"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-21", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "29", dag_i_vecka: "5", namnsdag: ["Johanna"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-22", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "29", dag_i_vecka: "6", namnsdag: ["Magdalena", "Madeleine"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-23", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "29", dag_i_vecka: "7", namnsdag: ["Emma", "Emmy"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-24", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "30", dag_i_vecka: "1", namnsdag: ["Kristina", "Kerstin"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-25", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "30", dag_i_vecka: "2", namnsdag: ["Jakob"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-26", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "30", dag_i_vecka: "3", namnsdag: ["Jesper", "Jasmine"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-27", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "30", dag_i_vecka: "4", namnsdag: ["Marta"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-28", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "30", dag_i_vecka: "5", namnsdag: ["Botvid", "Seved"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-29", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "30", dag_i_vecka: "6", namnsdag: ["Olof"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-30", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "30", dag_i_vecka: "7", namnsdag: ["Algot"], flaggdag: "" }, FaboulDataDag { datum: "2023-07-31", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "31", dag_i_vecka: "1", namnsdag: ["Helena", "Elin"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-01", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "31", dag_i_vecka: "2", namnsdag: ["Per"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-02", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "31", dag_i_vecka: "3", namnsdag: ["Karin", "Kajsa"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-03", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "31", dag_i_vecka: "4", namnsdag: ["Tage"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-04", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "31", dag_i_vecka: "5", namnsdag: ["Arne", "Arnold"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-05", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "31", dag_i_vecka: "6", namnsdag: ["Ulrik", "Alrik"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-06", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "31", dag_i_vecka: "7", namnsdag: ["Alfons", "Inez"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-07", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "32", dag_i_vecka: "1", namnsdag: ["Dennis", "Denise"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-08", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "32", dag_i_vecka: "2", namnsdag: ["Silvia", "Sylvia"], flaggdag: "Drottning Silvias namnsdag" }, FaboulDataDag { datum: "2023-08-09", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "32", dag_i_vecka: "3", namnsdag: ["Roland"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-10", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "32", dag_i_vecka: "4", namnsdag: ["Lars"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-11", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "32", dag_i_vecka: "5", namnsdag: ["Susanna"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-12", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "32", dag_i_vecka: "6", namnsdag: ["Klara"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-13", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "32", dag_i_vecka: "7", namnsdag: ["Kaj"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-14", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "33", dag_i_vecka: "1", namnsdag: ["Uno"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-15", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "33", dag_i_vecka: "2", namnsdag: ["Stella", "Estelle"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-16", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "33", dag_i_vecka: "3", namnsdag: ["Brynolf"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-17", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "33", dag_i_vecka: "4", namnsdag: ["Verner", "Valter"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-18", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "33", dag_i_vecka: "5", namnsdag: ["Ellen", "Lena"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-19", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "33", dag_i_vecka: "6", namnsdag: ["Magnus", "Måns"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-20", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "33", dag_i_vecka: "7", namnsdag: ["Bernhard", "Bernt"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-21", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "34", dag_i_vecka: "1", namnsdag: ["Jon", "Jonna"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-22", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "34", dag_i_vecka: "2", namnsdag: ["Henrietta", "Henrika"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-23", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "34", dag_i_vecka: "3", namnsdag: ["Signe", "Signhild"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-24", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "34", dag_i_vecka: "4", namnsdag: ["Bartolomeus"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-25", veckodag: "Fredag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "34", dag_i_vecka: "5", namnsdag: ["Lovisa", "Louise"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-26", veckodag: "Lördag", arbetsfri_dag: "Ja", rod_dag: "Nej", vecka: "34", dag_i_vecka: "6", namnsdag: ["Östen"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-27", veckodag: "Söndag", arbetsfri_dag: "Ja", rod_dag: "Ja", vecka: "34", dag_i_vecka: "7", namnsdag: ["Rolf", "Raoul"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-28", veckodag: "Måndag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "35", dag_i_vecka: "1", namnsdag: ["Fatima", "Leila"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-29", veckodag: "Tisdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "35", dag_i_vecka: "2", namnsdag: ["Hans", "Hampus"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-30", veckodag: "Onsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "35", dag_i_vecka: "3", namnsdag: ["Albert", "Albertina"], flaggdag: "" }, FaboulDataDag { datum: "2023-08-31", veckodag: "Torsdag", arbetsfri_dag: "Nej", rod_dag: "Nej", vecka: "35", dag_i_vecka: "4", namnsdag: ["Arvid", "Vidar"], flaggdag: "" }]
// 2023-07-22T21:55:08.727301Z  INFO calendar_api: calendar data retrieved
